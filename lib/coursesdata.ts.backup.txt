import { Course } from './types';

export const courses: Course[] = [
  {
    id: 'smart-contracts',
    name: { fr: 'Développement Smart Contracts avec Solidity', en: 'Smart Contract Development with Solidity' },
    description: {
      fr: 'Formation complète au développement de smart contracts avec Solidity. Apprenez à créer des applications décentralisées sécurisées.',
      en: 'Complete training in smart contract development with Solidity. Learn to create secure decentralized applications.'
    },
    category: 'Blockchain',
    price: 325000,
    currency: 'XOF',
    duration_weeks: 12,
    language: 'fr',
    level: 'intermediate',
    instructor_id: 'instructor-001',
    instructor_name: 'Expert Blockchain',
    image_url: '/images/courses/smart-contracts.jpg',
    thumbnail_url: '/images/courses/smart-contracts-thumb.jpg',
    video_intro_url: null,
    objectives: {
      fr: 'Comprendre les fondamentaux de la blockchain et Ethereum\nMaîtriser le langage Solidity',
      en: 'Understand blockchain and Ethereum fundamentals\nMaster Solidity language'
    },
    prerequisites: {
      fr: 'Connaissance de base en programmation',
      en: 'Basic programming knowledge'
    },
    curriculum: [
      { week: 1, title: { fr: 'Architecture', en: 'Architecture' }, topics: { fr: 'EVM, Gas', en: 'EVM, Gas' } }
    ],
    is_published: true,
    requires_diagnostic: false, // Standard track
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString()
  },
  {
    id: 'ielts-65',
    name: { fr: 'Préparation IELTS - Score 6.5', en: 'IELTS Preparation - Score 6.5' },
    description: { fr: 'Programme intensif IELTS.', en: 'Intensive IELTS program.' },
    category: 'Languages',
    price: 260000,
    currency: 'XOF',
    duration_weeks: 8,
    language: 'fr',
    level: 'intermediate',
    instructor_id: 'instructor-003',
    instructor_name: 'Expert IELTS',
    image_url: '/images/courses/ielts-65.jpg',
    thumbnail_url: '/images/courses/ielts-65-thumb.jpg',
    video_intro_url: null,
    objectives: { fr: 'Score 6.5', en: '6.5 Score' },
    prerequisites: { fr: 'Niveau B1/B2', en: 'B1/B2 Level' },
    curriculum: [
      { week: 1, title: { fr: 'Listening', en: 'Listening' }, topics: { fr: 'Note-taking', en: 'Note-taking' } }
    ],
    is_published: true,
    requires_diagnostic: true, // TRIGGERS COBEL AI ENGINE PHASE 1
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString()
  }
  // ... rest of your courses (ai-ml, ielts-50, ielts-40, english-basics, etc.)
];

// --- CLEANED UP EXPORTS & UTILITIES ---

export const coursesData = courses;

export const courseCategories = [
  { id: 'all', label: { fr: 'Toutes', en: 'All' } },
  { id: 'Blockchain', label: { fr: 'Blockchain', en: 'Blockchain' } },
  { id: 'AI & Data Science', label: { fr: 'IA & Science des Données', en: 'AI & Data Science' } },
  { id: 'Languages', label: { fr: 'Langues', en: 'Languages' } },
  { id: 'Marketing', label: { fr: 'Marketing', en: 'Marketing' } },
  { id: 'Soft Skills', label: { fr: 'Compétences Douces', en: 'Soft Skills' } },
  { id: 'Finance', label: { fr: 'Finance', en: 'Finance' } }
];

export const courseLevels = [
  { id: 'all', label: { fr: 'Tous', en: 'All' } },
  { id: 'beginner', label: { fr: 'Débutant', en: 'Beginner' } },
  { id: 'intermediate', label: { fr: 'Intermédiaire', en: 'Intermediate' } },
  { id: 'advanced', label: { fr: 'Avancé', en: 'Advanced' } }
];

export function getCourseById(id: string): Course | undefined {
  return courses.find(course => course.id === id);
}

export function getCoursesByCategory(category: string): Course[] {
  return courses.filter(course => course.category === category);
}

export function getPublishedCourses(): Course[] {
  return courses.filter(course => course.is_published);
}

export function sortCourses(
  courses: Course[],
  sortBy: 'price' | 'rating' | 'enrollment' | 'newest' | 'duration' | 'popularity' = 'newest'
): Course[] {
  const sorted = [...courses];
  switch (sortBy) {
    case 'price':
      return sorted.sort((a, b) => a.price - b.price);
    case 'duration':
      return sorted.sort((a, b) => a.duration_weeks - b.duration_weeks);
    case 'newest':
    default:
      return sorted.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());
  }
}

export default courses;
