(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2613,2569],{70410:function(e,t,s){Promise.resolve().then(s.bind(s,47679))},47679:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o},dynamic:function(){return l}});var n=s(57437),r=s(2265),a=s(82569),u=s(99376);let l="force-dynamic";function o(e){let{params:t}=e,[s,l]=(0,r.useState)([]),[o,i]=(0,r.useState)(0),[c,d]=(0,r.useState)(0),[f,m]=(0,r.useState)(!1),h=(0,u.useRouter)();(0,r.useEffect)(()=>{!async function(){let{data:e}=await a.OQ.from("modules").select("*").eq("id",t.id).single();if(null==e?void 0:e.category)try{l(JSON.parse(e.category))}catch(e){console.error("JSON Parse Error")}}()},[t.id]);let x=async()=>{let e=o+1;d(e=>e+1),e<s.length?i(e):p()},p=async()=>{m(!0);let e=c/s.length*100,n=e>80?2:6,{error:r}=await a.OQ.from("user_profiles").insert({module_id:t.id,fluency_score:e,predicted_timeframe:"".concat(n," weeks"),curriculum_density:e>80?"Light":"Dense"});r||(alert("Diagnostic Complete! Predicted path: ".concat(n," weeks.")),h.push("/modules")),m(!1)};if(0===s.length)return(0,n.jsx)("div",{className:"p-20 text-center",children:"Loading Engine..."});let b=s[o];return(0,n.jsxs)("div",{className:"max-w-2xl mx-auto mt-20 p-8 bg-white border rounded-xl shadow-2xl",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsxs)("span",{className:"text-xs font-bold text-blue-500 uppercase",children:["Assessment Node ",o+1," of ",s.length]}),(0,n.jsx)("span",{className:"text-xs text-slate-400",children:"Temporal Optimization Active"})]}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:b.text_en}),(0,n.jsx)("p",{className:"text-lg text-slate-500 italic mb-8 border-l-4 border-blue-200 pl-4",children:b.text_fr}),(0,n.jsx)("button",{onClick:x,disabled:f,className:"w-full py-4 bg-slate-900 text-white font-bold rounded-lg hover:bg-blue-600 transition-all transform hover:scale-[1.02]",children:f?"Processing Technical Fluency...":"Submit Response"})]})}},82569:function(e,t,s){"use strict";s.d(t,{M8:function(){return l},OQ:function(){return a},f8:function(){return u}});var n=s(13053);let r=()=>{let e="your-supabase-url-here",t="your-anon-key-here";return e&&t?(0,n.eI)(e,t):(0,n.eI)("https://placeholder.supabase.co","placeholder")},a=r(),u=async e=>{let t=r();return await t.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")})},l=async e=>{let t=r();return await t.auth.updateUser({password:e})}},99376:function(e,t,s){"use strict";var n=s(35475);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[3053,2971,2117,1744],function(){return e(e.s=70410)}),_N_E=e.O()}]);