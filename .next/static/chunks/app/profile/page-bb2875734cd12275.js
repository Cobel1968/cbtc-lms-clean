(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178,2569],{66545:function(e,n,t){Promise.resolve().then(t.bind(t,80112))},80112:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o},dynamic:function(){return d}});var i=t(57437),r=t(2265),s=t(82569);let d="force-dynamic";function o(){let[e,n]=(0,r.useState)(null),[t,d]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async function(){let{data:{user:e}}=await s.OQ.auth.getUser();if(!e){d(!1);return}let{data:t}=await s.OQ.from("user_progress").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1}).limit(1);(null==t?void 0:t[0])&&n({...t[0],savings:t[0].last_score>=15?15:0,verifyURL:"http://localhost:3001/verify/".concat(t[0].id),fullTranscript:[{m:"Analyse de Maintenance Pr\xc3ƒ\xc2\xa9ventive",s:"98% (OCR Validated)",n:"Excellent bilingual technical command."},{m:"S\xc3ƒ\xc2\xa9curit\xc3ƒ\xc2\xa9 des Syst\xc3ƒ\xc2\xa8mes Industriels",s:"Optimis\xc3ƒ\xc2\xa9 (AI Path)",n:"Mastery demonstrated in diagnostic phase."},{m:"Gestion d'Atelier Automatis\xc3ƒ\xc2\xa9",s:"85% (Digital Eval)",n:"Strong command of technical French."},{m:"Rapport de Conformit\xc3ƒ\xc2\xa9 Technique",s:"92% (Handwriting)",n:"Processed via Analog-to-Digital Bridge."}]}),d(!1)})()},[]),t)?(0,i.jsx)("div",{style:{padding:"50px",textAlign:"center"},children:"Optimisation du rendu final..."}):(0,i.jsxs)("div",{style:{minHeight:"100vh",background:"#f1f5f9",fontFamily:"serif"},children:[(0,i.jsx)("style",{children:"\n                @media print {\n                    .no-print { display: none !important; }\n                    \n                    /* MAX OCCUPANCY: 0.5cm margins */\n                    @page { \n                        size: landscape; \n                        margin: 0.5cm; \n                    }\n\n                    .cert-page { \n                        width: 100%; \n                        height: 95vh; \n                        display: flex; \n                        justify-content: center; \n                        align-items: center;\n                        page-break-after: always;\n                    }\n\n                    .transcript-page { \n                        width: 100%; \n                        padding: 1cm; \n                        background: white; \n                        display: block !important;\n                        page-break-before: always;\n                    }\n                }\n                .cert-page { padding: 20px; background: #fff; }\n                .transcript-page { display: none; background: white; padding: 40px; }\n            "}),(0,i.jsxs)("header",{className:"no-print",style:{padding:"20px",display:"flex",justifyContent:"space-between",background:"#fff",borderBottom:"1px solid #ddd",fontFamily:"sans-serif"},children:[(0,i.jsx)("span",{style:{fontWeight:"bold",color:"#1e40af"},children:"COBEL BTC - FINAL BUILD"}),(0,i.jsx)("button",{onClick:()=>window.print(),style:{padding:"10px 20px",background:"#1e40af",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:"Imprimer Dossier (Format Max)"})]}),(0,i.jsx)("div",{className:"cert-page",children:(0,i.jsxs)("div",{style:{border:"15px double #1e40af",padding:"60px",textAlign:"center",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",boxSizing:"border-box"},children:[(0,i.jsx)("img",{src:"/new-logo.png",alt:"Logo",style:{height:"90px",marginBottom:"20px",objectFit:"contain"}}),(0,i.jsx)("div",{style:{color:"#1e40af",fontSize:"14px",letterSpacing:"8px",fontWeight:"bold"},children:"CERTIFICATION OFFICIELLE DE MA\xc3ƒ\xc5\xbdTRISE"}),(0,i.jsx)("h1",{style:{fontSize:"56px",margin:"20px 0",color:"#0f172a"},children:"Attestation de R\xc3ƒ\xc2\xa9ussite"}),(0,i.jsx)("h2",{style:{color:"#1e40af",fontSize:"36px",fontStyle:"italic"},children:null==e?void 0:e.course_id}),(0,i.jsxs)("p",{style:{marginTop:"40px",fontSize:"22px"},children:["Score Global : ",(0,i.jsxs)("strong",{children:[null==e?void 0:e.last_score,"/20"]})]}),(0,i.jsxs)("div",{style:{marginTop:"80px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 40px"},children:[(0,i.jsx)("div",{style:{width:"280px",borderTop:"2px solid #000",paddingTop:"15px",fontSize:"14px",fontWeight:"bold"},children:"Signature Mentor"}),(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=".concat(encodeURIComponent((null==e?void 0:e.verifyURL)||"")),style:{height:"90px",width:"90px",border:"1px solid #1e40af",padding:"5px"}}),(0,i.jsx)("p",{style:{fontSize:"8px",marginTop:"5px",color:"#64748b"},children:"VERIFICATION AI ENGINE"})]}),(0,i.jsx)("div",{style:{width:"280px",borderTop:"2px solid #000",paddingTop:"15px",fontSize:"14px",fontWeight:"bold"},children:"Direction Cobel BTC"})]})]})}),(0,i.jsxs)("div",{className:"transcript-page",style:{fontFamily:"sans-serif"},children:[(0,i.jsxs)("div",{style:{borderBottom:"3px solid #1e40af",paddingBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)("h2",{style:{margin:0,color:"#1e40af"},children:"Transcript de Comp\xc3ƒ\xc2\xa9tences Bilingues"}),(0,i.jsx)("span",{style:{fontSize:"12px",background:"#f1f5f9",padding:"5px 10px",borderRadius:"4px"},children:"VERIFIED PROVENANCE"})]}),(0,i.jsxs)("table",{style:{width:"100%",marginTop:"50px",borderCollapse:"collapse"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{style:{background:"#1e40af",color:"white",textAlign:"left"},children:[(0,i.jsx)("th",{style:{padding:"15px",border:"1px solid #cbd5e1"},children:"Module Technique"}),(0,i.jsx)("th",{style:{padding:"15px",border:"1px solid #cbd5e1"},children:"Validation"}),(0,i.jsx)("th",{style:{padding:"15px",border:"1px solid #cbd5e1"},children:"Notes d'Innovation"})]})}),(0,i.jsx)("tbody",{children:null==e?void 0:e.fullTranscript.map((e,n)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{padding:"15px",border:"1px solid #cbd5e1"},children:e.m}),(0,i.jsx)("td",{style:{padding:"15px",border:"1px solid #cbd5e1",fontWeight:"bold",color:"#16a34a"},children:e.s}),(0,i.jsx)("td",{style:{padding:"15px",border:"1px solid #cbd5e1",fontSize:"12px"},children:e.n})]},n))})]})]})]})}},82569:function(e,n,t){"use strict";t.d(n,{M8:function(){return o},OQ:function(){return s},f8:function(){return d}});var i=t(13053);let r=()=>{let e="your-supabase-url-here",n="your-anon-key-here";return e&&n?(0,i.eI)(e,n):(0,i.eI)("https://placeholder.supabase.co","placeholder")},s=r(),d=async e=>{let n=r();return await n.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")})},o=async e=>{let n=r();return await n.auth.updateUser({password:e})}}},function(e){e.O(0,[3053,2971,2117,1744],function(){return e(e.s=66545)}),_N_E=e.O()}]);