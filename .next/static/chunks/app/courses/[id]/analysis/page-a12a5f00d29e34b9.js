(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3905,2569],{89293:function(e,t,r){Promise.resolve().then(r.bind(r,13027))},13027:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u},dynamic:function(){return o}});var n=r(57437),s=r(2265),i=r(99376),a=r(82569);let o="force-dynamic";function u(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),[r,o]=(0,s.useState)(null),[u,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{a.OQ.auth.getUser().then(e=>{let{data:t}=e;return o(t.user)})},[]);let h=async()=>{if(!r){alert("Session expir\xe9e. Veuillez vous reconnecter.");return}let{error:n}=await a.OQ.from("user_progress").upsert({user_id:r.id,course_id:e.id||"Generic_Course",last_score:c.score,technical_terms_mastered:c.terms,ocr_accuracy:c.accuracy});n||(alert(" Donn\xe9es synchronis\xe9es au profil digital."),t.push("/diagnostic"))};return(0,n.jsxs)("div",{style:{padding:"20px",maxWidth:"1100px",margin:"0 auto",fontFamily:"sans-serif"},children:[(0,n.jsxs)("h2",{style:{color:"#1e40af"},children:["Module d'Analyse de l'\xc9valuation : ",e.id]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 350px",gap:"20px",height:"70vh"},children:[(0,n.jsx)("div",{style:{background:"#0f172a",borderRadius:"12px",overflow:"hidden",border:"4px solid #334155",position:"relative"},children:u?(0,n.jsx)("img",{src:u,style:{width:"100%",height:"100%",objectFit:"contain"}}):(0,n.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#94a3b8"},children:[(0,n.jsx)("p",{children:"Fen\xeatre d'Analyse Vide"}),(0,n.jsx)("input",{type:"file",onChange:e=>{let t=e.target.files[0];if(!t)return;let r=new FileReader;r.onload=e=>{l(e.target.result),setTimeout(()=>{d({score:18.5,terms:["Atelier","Maintenance","S\xe9curit\xe9"],accuracy:98.2})},1e3)},r.readAsDataURL(t)},accept:"image/*"})]})}),(0,n.jsxs)("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[(0,n.jsx)("h3",{children:"R\xe9sultats IA"}),c?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#16a34a"},children:[c.score,"/20"]}),(0,n.jsxs)("p",{style:{fontSize:"12px",color:"#64748b"},children:["Pr\xe9cision OCR: ",c.accuracy,"%"]}),(0,n.jsx)("h4",{style:{marginTop:"20px"},children:"Termes Identifi\xe9s:"}),(0,n.jsx)("ul",{style:{paddingLeft:"20px"},children:c.terms.map(e=>(0,n.jsx)("li",{children:e},e))}),(0,n.jsx)("button",{onClick:h,style:{width:"100%",marginTop:"30px",padding:"15px",background:"#1e40af",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Valider & Quitter"})]}):(0,n.jsx)("p",{style:{fontStyle:"italic",color:"#94a3b8"},children:"En attente de document..."})]})]})]})}},82569:function(e,t,r){"use strict";r.d(t,{M8:function(){return o},OQ:function(){return i},f8:function(){return a}});var n=r(13053);let s=()=>{let e="your-supabase-url-here",t="your-anon-key-here";return e&&t?(0,n.eI)(e,t):(0,n.eI)("https://placeholder.supabase.co","placeholder")},i=s(),a=async e=>{let t=s();return await t.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")})},o=async e=>{let t=s();return await t.auth.updateUser({password:e})}},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[3053,2971,2117,1744],function(){return e(e.s=89293)}),_N_E=e.O()}]);