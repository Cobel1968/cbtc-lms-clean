(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1375],{30098:function(e,s,t){Promise.resolve().then(t.bind(t,24909))},24909:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b},dynamic:function(){return h}});var a=t(57437),r=t(2265),l=t(42990),n=t(92735),i=t(42488),c=t(91723),o=t(11239),d=t(95805),m=t(46221),g=t(53375),x=t(24457),u=t.n(x);let h="force-dynamic";function b(){let[e,s]=(0,r.useState)({totalHoursSaved:0,totalAssessments:0,avgFluency:0}),[t,x]=(0,r.useState)([]),[h,b]=(0,r.useState)(!1),f=(0,l.createBrowserClient)("your-supabase-url-here","your-anon-key-here"),j="https://rvlcpygatguvxhuliand.supabase.co/storage/v1/object/public/assets/cobel-logo.png",y=async()=>{let e=document.getElementById("report-container");if(!e)return;b(!0);let s=(await u()(e,{scale:2,useCORS:!0})).toDataURL("image/png"),t=new g.ZP("p","mm","a4"),a=t.getImageProperties(s),r=t.internal.pageSize.getWidth(),l=a.height*r/a.width;t.addImage(s,"PNG",0,0,r,l),t.save("Cobel-Efficiency-Report-".concat(new Date().toISOString().split("T")[0],".pdf")),b(!1)};return(0,r.useEffect)(()=>{(async function(){let{data:e}=await f.from("vocational_assessments").select("suggest_timeframe_adjustment, bilingual_fluency_score, created_at").order("created_at",{ascending:!1});if(e){let t=e.reduce((e,s)=>e+(s.suggest_timeframe_adjustment||0),0),a=e.reduce((e,s)=>e+(s.bilingual_fluency_score||0),0);s({totalHoursSaved:Math.round(t/60),totalAssessments:e.length,avgFluency:e.length>0?Math.round(a/e.length):0}),x(e.slice(0,5))}})();let e=f.channel("realtime-assessments").on("postgres_changes",{event:"INSERT",schema:"public",table:"vocational_assessments"},e=>{x(s=>[e.new,...s].slice(0,5)),s(s=>({...s,totalAssessments:s.totalAssessments+1,totalHoursSaved:s.totalHoursSaved+Math.round((e.new.suggest_timeframe_adjustment||0)/60)}))}).subscribe();return()=>{f.removeChannel(e)}},[f]),(0,a.jsx)("div",{className:"p-8 max-w-7xl mx-auto space-y-8 bg-gray-50 min-h-screen",children:(0,a.jsxs)("div",{id:"report-container",className:"space-y-8 bg-gray-50 p-4",children:[(0,a.jsxs)("header",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-gray-100",children:(0,a.jsx)("img",{src:j,alt:"Cobel Logo",className:"h-14 w-auto object-contain",crossOrigin:"anonymous",onError:e=>{e.target.src=j}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-black text-blue-950 tracking-tight",children:"Trainer Friction Report"}),(0,a.jsx)("p",{className:"text-gray-500 font-medium text-sm italic",children:"Innovation Type: Computer-Implemented Pedagogical Logic"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("button",{onClick:y,disabled:h,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white px-5 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-blue-100",children:h?"Generating...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z,{size:18})," Export PDF"]})}),(0,a.jsxs)("div",{className:"bg-green-100 text-green-700 px-4 py-2 rounded-full text-xs font-bold flex items-center gap-2 border border-green-200",children:[(0,a.jsx)(i.Z,{size:14,className:"animate-pulse"})," AI Engine Live"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)(p,{title:"Manual Labor Saved",value:"".concat(e.totalHoursSaved,"h"),icon:(0,a.jsx)(c.Z,{className:"text-blue-600"}),sub:"Reclaimed Trainer Hours"}),(0,a.jsx)(p,{title:"Automated Milestones",value:e.totalAssessments.toString(),icon:(0,a.jsx)(o.Z,{className:"text-amber-500"}),sub:"Bridges Ingested"}),(0,a.jsx)(p,{title:"Technical Mastery",value:"".concat(e.avgFluency,"%"),icon:(0,a.jsx)(d.Z,{className:"text-indigo-600"}),sub:"Bilingual Proficiency Avg"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl shadow-sm border border-gray-100",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-gray-800",children:[(0,a.jsx)(m.Z,{size:20,className:"text-blue-600"})," Temporal Optimization Phase"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-8",children:["Visualizing the ",(0,a.jsx)("strong",{children:"Automated Milestone Forecasting"})," logic across the training center."]}),(0,a.jsxs)("div",{className:"h-72 bg-slate-50 rounded-2xl flex flex-col items-center justify-center border-2 border-dashed border-slate-200 relative overflow-hidden",children:[(0,a.jsx)(m.Z,{size:48,className:"text-slate-200 mb-3"}),(0,a.jsx)("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Proprietary Optimization Mapping"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex flex-col h-full",children:[(0,a.jsxs)("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2 text-gray-800",children:[(0,a.jsx)(i.Z,{size:20,className:"text-green-500"})," Live Pedagogical Feed"]}),(0,a.jsx)("div",{className:"space-y-4 overflow-y-auto max-h-[400px] pr-2 custom-scrollbar",children:0===t.length?(0,a.jsx)("div",{className:"text-center py-10 text-gray-400 text-sm italic",children:"Waiting for submissions..."}):t.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100 border-l-4 border-l-blue-600",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,a.jsx)("span",{className:"text-[10px] font-black uppercase text-blue-600 tracking-widest",children:"A2D Bridge"}),(0,a.jsx)("span",{className:"text-[10px] text-gray-400 font-mono",children:new Date(e.created_at).toLocaleTimeString()})]}),(0,a.jsxs)("p",{className:"text-sm font-black text-gray-900",children:[e.bilingual_fluency_score,"% Fluency"]}),(0,a.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 font-medium",children:["Optimization: +",e.suggest_timeframe_adjustment," mins"]})]},e.id))})]})]})]})})}function p(e){let{title:s,value:t,icon:r,sub:l}=e;return(0,a.jsxs)("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 space-y-3 transition-all",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:s}),(0,a.jsx)("div",{className:"p-2 bg-gray-50 rounded-xl",children:r})]}),(0,a.jsx)("div",{className:"text-4xl font-black text-blue-950 tracking-tighter",children:t}),(0,a.jsx)("div",{className:"text-[10px] text-blue-600 font-black uppercase tracking-tight",children:l})]})}}},function(e){e.O(0,[2505,7337,3053,1491,2971,2117,1744],function(){return e(e.s=30098)}),_N_E=e.O()}]);