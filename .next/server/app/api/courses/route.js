"use strict";(()=>{var e={};e.id=4740,e.ids=[4740],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6273:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h});var s={};t.r(s),t.d(s,{GET:()=>p,POST:()=>l,dynamic:()=>c});var o=t(49303),a=t(88716),n=t(60670),u=t(83683),i=t(87070);let c="force-dynamic";async function p(e){let{searchParams:r}=new URL(e.url),t="true"===r.get("all"),s=u.OQ.from("courses").select("*");t||(s=s.eq("is_published",!0));let{data:o,error:a}=await s;return a?i.NextResponse.json({error:a.message},{status:500}):i.NextResponse.json(o)}async function l(e){try{let{searchParams:r}=new URL(e.url),t=r.get("id"),{title:s,is_published:o}=await e.json();if(t){let{data:e,error:r}=await u.OQ.from("courses").update({title:s,is_published:o??!0}).eq("id",t).select();if(r)throw r;return i.NextResponse.json({success:!0,mode:"update",data:e})}{let{data:e,error:r}=await u.OQ.from("courses").insert([{title:s,is_published:o??!0}]).select();if(r)throw r;return i.NextResponse.json({success:!0,mode:"insert",data:e})}}catch(e){return console.error("Critical Engine Error during Course POST:",e.message),i.NextResponse.json({error:e.message},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/courses/route",pathname:"/api/courses",filename:"route",bundlePath:"app/api/courses/route"},resolvedPagePath:"D:\\CBTC-FINAL\\cbtc-lms\\app\\api\\courses\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:g}=d,f="/api/courses/route";function x(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:h})}},83683:(e,r,t)=>{t.d(r,{Ag:()=>o,OQ:()=>a,r4:()=>n});var s=t(37857);let o=()=>{let e="your-supabase-url-here",r="your-anon-key-here";return e&&r?(0,s.eI)(e,r):(0,s.eI)("https://placeholder.supabase.co","placeholder")},a=o(),n=async e=>{let r=o(),{data:t,error:s}=await r.from("users").insert([e]).select().single();return{data:t,error:s}}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,7857,5972],()=>t(6273));module.exports=s})();